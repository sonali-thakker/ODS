[
{
"eai:data": "<?xml version=\"1.0\"?>\n<view template=\"Splunk_TA_aws:templates/base.html\" type=\"html\" isDashboard=\"False\">\n    <label>Configuration</label>\n</view>",
"eai:type": "views",
"name": "configuration",
"owner": "nobody",
"sharing": "global"
},
{
"eai:data": "<form version=\"1.1\" script=\"MultiSelectHelper.js\">\n    <label>Error Details</label>\n    <fieldset submitButton=\"false\">\n        <input type=\"time\" searchWhenChanged=\"true\">\n            <label>Time Range</label>\n            <default>\n                <earliest>-1d</earliest>\n                <latest>now</latest>\n            </default>\n        </input>\n\n        <input type=\"multiselect\" token=\"host\" searchWhenChanged=\"true\">\n            <label>Host</label>\n            <choice value=\"*\">All</choice>\n            <search fieldForValue=\"host\" fieldForLabel=\"host\">\n                <query><![CDATA[ index=_internal sourcetype=aws:*:log | stats count by host|table host ]]></query>\n            </search>\n            <prefix> (</prefix>\n            <suffix>) </suffix>\n            <valuePrefix>host=\"</valuePrefix>\n            <valueSuffix>\"</valueSuffix>\n            <delimiter> OR </delimiter>\n            <default>All</default>\n            <fieldForLabel>host</fieldForLabel>\n            <fieldForValue>host</fieldForValue>\n        </input>\n\n        <input type=\"multiselect\" token=\"modinput\" searchWhenChanged=\"true\">\n            <label>Input Type</label>\n            <choice value=\"sourcetype=aws:s3:log OR sourcetype=aws:logs:log OR sourcetype=aws:sqsbaseds3:log OR sourcetype=aws:metadata*:log OR sourcetype=aws:cloudwatch:log OR sourcetype=aws:cloudwatchlogs:log OR sourcetype=aws:kinesis:log\">All</choice>\n            <choice value=\"sourcetype=aws:s3:log\">Generic S3</choice>\n            <choice value=\"sourcetype=aws:logs:log\">Incremental S3</choice>\n            <choice value=\"sourcetype=aws:sqsbaseds3:log\">SQS-Based S3</choice>\n            <choice value=\"sourcetype=aws:metadata*:log\">Metadata</choice>\n            <choice value=\"sourcetype=aws:cloudwatch:log\">Cloudwatch</choice>\n            <choice value=\"sourcetype=aws:cloudwatchlogs:log\">Cloudwatch Logs</choice>\n            <choice value=\"sourcetype=aws:kinesis:log\">Kinesis</choice>\n            <prefix> (</prefix>\n            <suffix>) </suffix>\n            <delimiter> OR </delimiter>\n            <default>All</default>\n        </input>\n\n        <input type=\"multiselect\" token=\"datainput\" searchWhenChanged=\"true\" dependsOn=\"modinput\">\n            <label>Input Name</label>\n            <choice value=\"*\">All</choice>\n            <search fieldForValue=\"datainput\" fieldForLabel=\"datainput_prefix\">\n                <query><![CDATA[\n                index=_internal $modinput$\n                | stats count by datainput\n                | table datainput\n                | rex field=datainput \"((?P<datainput_prefix>.*?)_[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$)\"\n                | fillnull value=\"\" datainput_prefix\n                | eval datainput=if(datainput_prefix!=\"\", datainput_prefix+\"_*\", datainput)\n                | dedup datainput\n                | table datainput, datainput_prefix\n                | sort datainput\n                ]]></query>\n            </search>\n            <prefix> (</prefix>\n            <suffix>) </suffix>\n            <valuePrefix>datainput=\"</valuePrefix>\n            <valueSuffix>\"</valueSuffix>\n            <delimiter> OR </delimiter>\n            <default>All</default>\n            <fieldForLabel>datainput_prefix</fieldForLabel>\n            <fieldForValue>datainput</fieldForValue>\n        </input>\n\n        <input type=\"multiselect\" token=\"errortype\" searchWhenChanged=\"true\">\n            <label>Error Type</label>\n            <choice value=\"*\">All</choice>\n            <choice value=\"uncategorized\">uncategorized</choice>\n            <search fieldForValue=\"ErrorType\" fieldForLabel=\"ErrorType\">\n                <query><![CDATA[|inputlookup aws_health_error_type.csv|stats count by ErrorType|table ErrorType ]]></query>\n            </search>\n            <prefix> (</prefix>\n            <suffix>) </suffix>\n            <valuePrefix>ErrorType=\"</valuePrefix>\n            <valueSuffix>\"</valueSuffix>\n            <delimiter> OR </delimiter>\n            <default>All</default>\n            <fieldForLabel>ErrorType</fieldForLabel>\n            <fieldForValue>ErrorType</fieldForValue>\n        </input>\n\n    </fieldset>\n\n    <row>\n        <panel>\n            <html>\n                <a href=\"https://aws.amazon.com/console/\" target=\"_blank\">Go to AWS console</a> |\n                <a href=\"https://docs.splunk.com/Documentation/AddOns/released/AWS/Troubleshooting\" target=\"_blank\">Go to Add-On troubleshooting section</a>\n            </html>\n            <table>\n                <title>Error Message Details</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            index=_internal $modinput$ $datainput$ $host$ level=ERROR\n                            | fillnull value=\"\" ErrorCode, ErrorDetail\n                            | eval ErrorDetail = if((ErrorDetail == \"\" or ErrorDetail == \"''\") and !isnull(message), message, ErrorDetail)\n                            | lookup aws_health_error_type_lookup ErrorCode, ErrorDetail, sourcetype OUTPUT ErrorType\n                            | lookup aws_log_sourcetype_modinput_lookup sourcetype OUTPUT modinput\n                            | search $errortype$\n                            | stats count as ErrorCount by host, sourcetype, modinput, datainput, ErrorType, ErrorCode, ErrorDetail\n                            | lookup aws_health_error_resolutions_lookup sourcetype, ErrorCode, ErrorDetail OUTPUT PossibleReason, PossibleResolution\n                            | table host, sourcetype, modinput, datainput, ErrorType, ErrorCode, ErrorDetail, ErrorCount, PossibleReason, PossibleResolution\n                            | sort host, modinput, datainput, ErrorCode, ErrorDetail\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n            </table>\n        </panel>\n    </row>\n\n</form>",
"eai:type": "views",
"name": "error_details",
"owner": "nobody",
"sharing": "global"
},
{
"eai:data": "<!--\n// jscpd:ignore-start\n-->\n<form version=\"1.1\" script=\"MultiSelectHelper.js\">\n    <label>Health Overview</label>\n    <fieldset submitButton=\"false\">\n\n        <input type=\"multiselect\" token=\"host\" searchWhenChanged=\"true\">\n            <label>Host</label>\n            <choice value=\"*\">All</choice>\n            <search fieldForValue=\"host\" fieldForLabel=\"host\">\n                <query>\n                <![CDATA[ index=_internal sourcetype=aws:*:log | stats count by host|table host ]]>\n                </query>\n            </search>\n            <prefix> (</prefix>\n            <suffix>) </suffix>\n            <valuePrefix>host=\"</valuePrefix>\n            <valueSuffix>\"</valueSuffix>\n            <delimiter> OR </delimiter>\n            <default>All</default>\n            <fieldForLabel>host</fieldForLabel>\n            <fieldForValue>host</fieldForValue>\n        </input>\n\n        <input type=\"multiselect\" token=\"modinput\" searchWhenChanged=\"true\">\n            <label>Input Type</label>\n            <choice value=\"sourcetype=aws:s3:log OR sourcetype=aws:logs:log OR sourcetype=aws:sqsbaseds3:log OR sourcetype=aws:metadata*:log OR sourcetype=aws:cloudwatch:log OR sourcetype=aws:cloudwatchlogs:log OR sourcetype=aws:kinesis:log\">All</choice>\n            <choice value=\"sourcetype=aws:s3:log\">Generic S3</choice>\n            <choice value=\"sourcetype=aws:logs:log\">Incremental S3</choice>\n            <choice value=\"sourcetype=aws:sqsbaseds3:log\">SQS-Based S3</choice>\n            <choice value=\"sourcetype=aws:metadata*:log\">Metadata</choice>\n            <choice value=\"sourcetype=aws:cloudwatch:log\">Cloudwatch</choice>\n            <choice value=\"sourcetype=aws:cloudwatchlogs:log\">Cloudwatch Logs</choice>\n            <choice value=\"sourcetype=aws:kinesis:log\">Kinesis</choice>\n            <prefix> (</prefix>\n            <suffix>) </suffix>\n            <delimiter> OR </delimiter>\n            <default>All</default>\n        </input>\n\n        <input type=\"multiselect\" token=\"datainput\" searchWhenChanged=\"true\" dependsOn=\"modinput\">\n            <label>Input Name</label>\n            <choice value=\"*\">All</choice>\n            <search fieldForValue=\"datainput\" fieldForLabel=\"datainput_prefix\">\n                <query>\n                <![CDATA[\n                        index=_internal $modinput$\n                        | stats count by datainput\n                        | table datainput\n                        | rex field=datainput \"((?P<datainput_prefix>.*?)_[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$)\"\n                        | fillnull value=\"\" datainput_prefix\n                        | eval datainput=if(datainput_prefix!=\"\", datainput_prefix+\"_*\", datainput)\n                        | dedup datainput\n                        | table datainput, datainput_prefix\n                        | sort datainput\n                        ]]>\n                </query>\n            </search>\n            <prefix> (</prefix>\n            <suffix>) </suffix>\n            <valuePrefix>datainput=\"</valuePrefix>\n            <valueSuffix>\"</valueSuffix>\n            <delimiter> OR </delimiter>\n            <default>All</default>\n            <fieldForLabel>datainput_prefix</fieldForLabel>\n            <fieldForValue>datainput</fieldForValue>\n        </input>\n\n        <input type=\"text\" token=\"key_word\" searchWhenChanged=\"true\">\n            <label>Keyword</label>\n            <prefix> \"</prefix>\n            <suffix>\"</suffix>\n            <default></default>\n        </input>\n\n        <input type=\"time\" searchWhenChanged=\"true\">\n            <label>Time Range</label>\n            <default>\n                <earliest>-1d</earliest>\n                <latest>now</latest>\n            </default>\n        </input>\n\n    </fieldset>\n\n    <search id=\"baseErrorSearch\">\n        <query>\n            <![CDATA[\n                index=_internal $host$ $modinput$ $datainput$ $key_word$ level=ERROR\n                | fillnull value=\"\" ErrorCode, ErrorDetail\n                | eval ErrorDetail = if((ErrorDetail == \"\" or ErrorDetail == \"''\") and !isnull(message), message, ErrorDetail)\n                | table count by _time, message, host, sourcetype, datainput, ErrorCode, ErrorDetail\n                | eval error_count=1\n                | lookup aws_health_error_type_lookup ErrorCode, ErrorDetail, sourcetype OUTPUT ErrorType\n            ]]>\n        </query>\n        <earliest>$earliest$</earliest>\n        <latest>$latest$</latest>\n    </search>\n\n    <search id=\"baseWarningSearch\">\n        <query>\n            <![CDATA[\n                index=_internal $host$ $modinput$ $datainput$ $key_word$ level=WARNING\n                | table count by _time, host, sourcetype, datainput, message\n                | eval warning_count=1\n            ]]>\n        </query>\n        <earliest>$earliest$</earliest>\n        <latest>$latest$</latest>\n    </search>\n\n    <row>\n        <panel>\n            <title>Errors - To know possible reason(s) and resolution(s), click on the error count</title>\n            <single>\n                <title>Total</title>\n                <search base=\"baseErrorSearch\">\n                    <query>\n                        | stats count, sum(error_count) as error_count\n                        | eval error_count=if(isnotnull(error_count), error_count, 0)\n                        | fields error_count\n                        | rename error_count as count\n                    </query>\n                </search>\n                <option name=\"useColors\">1</option>\n                <option name=\"colorBy\">value</option>\n                <option name=\"colorMode\">block</option>\n                <option name=\"rangeColors\">[\"0x65a637\",\"0xFF0000\"]</option>\n                <option name=\"rangeValues\">[0]</option>\n                <option name=\"field\">count</option>\n                <option name=\"underLabel\">Errors</option>\n                <drilldown>\n                    <link target=\"_blank\">\n                        error_details?latest=$latest$&amp;earliest=$earliest$&amp;form.host=$form.host$&amp;form.modinput=$form.modinput$&amp;form.datainput=$form.datainput$\n                    </link>\n                </drilldown>\n            </single>\n            <single>\n                <title>Configuration</title>\n                <search base=\"baseErrorSearch\">\n                    <query>\n                        | search ErrorType=configuration\n                        | stats count, sum(error_count) as error_count\n                        | eval error_count=if(isnotnull(error_count), error_count, 0)\n                        | fields error_count\n                        | rename error_count as count\n                    </query>\n                </search>\n                <drilldown>\n                    <link target=\"_blank\">\n                        error_details?latest=$latest$&amp;earliest=$earliest$&amp;form.host=$form.host$&amp;form.modinput=$form.modinput$&amp;form.datainput=$form.datainput$&amp;form.errortype=configuration\n                    </link>\n                </drilldown>\n                <option name=\"useColors\">1</option>\n                <option name=\"colorBy\">value</option>\n                <option name=\"colorMode\">block</option>\n                <option name=\"rangeColors\">[\"0x65a637\",\"0xFF0000\"]</option>\n                <option name=\"rangeValues\">[0]</option>\n                <option name=\"field\">count</option>\n                <option name=\"underLabel\">Errors</option>\n            </single>\n            <single>\n                <title>Auth/Permission</title>\n                <search base=\"baseErrorSearch\">\n                    <query>\n                        | search ErrorType=authentication\n                        | stats count, sum(error_count) as error_count\n                        | eval error_count=if(isnotnull(error_count), error_count, 0)\n                        | fields error_count\n                        | rename error_count as count\n                    </query>\n                </search>\n                <drilldown>\n                    <link target=\"_blank\">\n                        error_details?latest=$latest$&amp;earliest=$earliest$&amp;form.host=$form.host$&amp;form.modinput=$form.modinput$&amp;form.datainput=$form.datainput$&amp;form.errortype=authentication\n                    </link>\n                </drilldown>\n                <option name=\"useColors\">1</option>\n                <option name=\"colorBy\">value</option>\n                <option name=\"colorMode\">block</option>\n                <option name=\"rangeColors\">[\"0x65a637\",\"0xFF0000\"]</option>\n                <option name=\"rangeValues\">[0]</option>\n                <option name=\"field\">count</option>\n                <option name=\"underLabel\">Errors</option>\n            </single>\n            <single>\n                <title>Throttling</title>\n                <search base=\"baseErrorSearch\">\n                    <query>\n                        | search ErrorType=throttling\n                        | stats count, sum(error_count) as error_count\n                        | eval error_count=if(isnotnull(error_count), error_count, 0)\n                        | fields error_count\n                        | rename error_count as count\n                    </query>\n                </search>\n                <drilldown>\n                    <link target=\"_blank\">\n                        error_details?latest=$latest$&amp;earliest=$earliest$&amp;form.host=$form.host$&amp;form.modinput=$form.modinput$&amp;form.datainput=$form.datainput$&amp;form.errortype=throttling\n                    </link>\n                </drilldown>\n                <option name=\"useColors\">1</option>\n                <option name=\"colorBy\">value</option>\n                <option name=\"colorMode\">block</option>\n                <option name=\"rangeColors\">[\"0x65a637\",\"0xFF0000\"]</option>\n                <option name=\"rangeValues\">[0]</option>\n                <option name=\"field\">count</option>\n                <option name=\"underLabel\">Errors</option>\n            </single>\n            <single>\n                <title>Network</title>\n                <search base=\"baseErrorSearch\">\n                    <query>\n                        | search ErrorType=network\n                        | stats count, sum(error_count) as error_count\n                        | eval error_count=if(isnotnull(error_count), error_count, 0)\n                        | fields error_count\n                        | rename error_count as count\n                    </query>\n                </search>\n                <drilldown>\n                    <link target=\"_blank\">\n                        error_details?latest=$latest$&amp;earliest=$earliest$&amp;form.host=$form.host$&amp;form.modinput=$form.modinput$&amp;form.datainput=$form.datainput$&amp;form.errortype=network\n                    </link>\n                </drilldown>\n                <option name=\"useColors\">1</option>\n                <option name=\"colorBy\">value</option>\n                <option name=\"colorMode\">block</option>\n                <option name=\"rangeColors\">[\"0x65a637\",\"0xFF0000\"]</option>\n                <option name=\"rangeValues\">[0]</option>\n                <option name=\"field\">count</option>\n                <option name=\"underLabel\">Errors</option>\n            </single>\n            <single>\n                <title>Others</title>\n                <search base=\"baseErrorSearch\">\n                    <query>\n                        | search ErrorType=uncategorized\n                        | stats count, sum(error_count) as error_count\n                        | eval error_count=if(isnotnull(error_count), error_count, 0)\n                        | fields error_count\n                        | rename error_count as count\n                    </query>\n                </search>\n                <drilldown>\n                    <link target=\"_blank\">\n                        error_details?latest=$latest$&amp;earliest=$earliest$&amp;form.host=$form.host$&amp;form.modinput=$form.modinput$&amp;form.datainput=$form.datainput$&amp;form.errortype=uncategorized\n                    </link>\n                </drilldown>\n                <option name=\"useColors\">1</option>\n                <option name=\"colorBy\">value</option>\n                <option name=\"colorMode\">block</option>\n                <option name=\"rangeColors\">[\"0x65a637\",\"0xFF0000\"]</option>\n                <option name=\"rangeValues\">[0]</option>\n                <option name=\"field\">count</option>\n                <option name=\"underLabel\">Errors</option>\n            </single>\n        </panel>\n    </row>\n    <row>\n        <panel>\n            <title>Warnings - To know possible reason(s) and resolution(s), click on the warning count</title>\n            <single>\n                <title>Total</title>\n                <search base=\"baseWarningSearch\">\n                    <query>\n                        | stats count, sum(warning_count) as warning_count\n                        | eval warning_count=if(isnotnull(warning_count), warning_count, 0)\n                        | fields warning_count\n                        | rename warning_count as count\n                    </query>\n                </search>\n                <drilldown>\n                    <link target=\"_blank\">\n                        warning_details?latest=$latest$&amp;earliest=$earliest$&amp;form.host=$form.host$&amp;form.modinput=$form.modinput$&amp;form.datainput=$form.datainput$\n                    </link>\n                </drilldown>\n                <option name=\"useColors\">1</option>\n                <option name=\"colorBy\">value</option>\n                <option name=\"colorMode\">block</option>\n                <option name=\"rangeColors\">[\"0x65a637\",\"0xff8000\"]</option>\n                <option name=\"rangeValues\">[0]</option>\n                <option name=\"field\">count</option>\n                <option name=\"underLabel\">Warnings</option>\n            </single>\n        </panel>\n    </row>\n\n    <row>\n        <panel>\n            <chart>\n                <title>Errors by Input Types Over Time</title>\n                <search base=\"baseErrorSearch\">\n                    <query>\n                        <![CDATA[\n                            | rename error_count as count\n                            | lookup aws_log_sourcetype_modinput_lookup sourcetype OUTPUT modinput\n                            | timechart sum(count) by modinput\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.overflowMode\">ellipsisNone</option>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.rotation\">0</option>\n                <option name=\"charting.axisTitleX.visibility\">collapsed</option>\n                <option name=\"charting.axisTitleY.text\">Errors (count)</option>\n                <option name=\"charting.axisTitleY.visibility\">visible</option>\n                <option name=\"charting.axisTitleY2.visibility\">visible</option>\n                <option name=\"charting.axisX.scale\">linear</option>\n                <option name=\"charting.axisY.scale\">linear</option>\n                <option name=\"charting.axisY2.enabled\">0</option>\n                <option name=\"charting.axisY2.scale\">inherit</option>\n                <option name=\"charting.chart\">column</option>\n                <option name=\"charting.chart.nullValueMode\">connect</option>\n                <option name=\"charting.chart.showDataLabels\">none</option>\n                <option name=\"charting.chart.sliceCollapsingThreshold\">0.01</option>\n                <option name=\"charting.chart.stackMode\">stacked</option>\n                <option name=\"charting.chart.style\">shiny</option>\n                <option name=\"charting.drilldown\">all</option>\n                <option name=\"charting.layout.splitSeries\">0</option>\n                <option name=\"charting.layout.splitSeries.allowIndependentYRanges\">0</option>\n                <option name=\"charting.legend.labelStyle.overflowMode\">ellipsisMiddle</option>\n                <option name=\"charting.legend.placement\">right</option>\n            </chart>\n        </panel>\n    </row>\n\n    <row>\n        <panel>\n            <chart>\n                <title>Errors by Hosts Over Time</title>\n                <search base=\"baseErrorSearch\">\n                    <query>\n                        <![CDATA[\n                            | rename error_count as count\n                            | timechart sum(count) by host\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.overflowMode\">ellipsisNone</option>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.rotation\">0</option>\n                <option name=\"charting.axisTitleX.visibility\">collapsed</option>\n                <option name=\"charting.axisTitleY.text\">Errors (count)</option>\n                <option name=\"charting.axisTitleY.visibility\">visible</option>\n                <option name=\"charting.axisTitleY2.visibility\">visible</option>\n                <option name=\"charting.axisX.scale\">linear</option>\n                <option name=\"charting.axisY.scale\">linear</option>\n                <option name=\"charting.axisY2.enabled\">0</option>\n                <option name=\"charting.axisY2.scale\">inherit</option>\n                <option name=\"charting.chart\">column</option>\n                <option name=\"charting.chart.nullValueMode\">connect</option>\n                <option name=\"charting.chart.showDataLabels\">none</option>\n                <option name=\"charting.chart.sliceCollapsingThreshold\">0.01</option>\n                <option name=\"charting.chart.stackMode\">stacked</option>\n                <option name=\"charting.chart.style\">shiny</option>\n                <option name=\"charting.drilldown\">all</option>\n                <option name=\"charting.layout.splitSeries\">0</option>\n                <option name=\"charting.layout.splitSeries.allowIndependentYRanges\">0</option>\n                <option name=\"charting.legend.labelStyle.overflowMode\">ellipsisMiddle</option>\n                <option name=\"charting.legend.placement\">right</option>\n            </chart>\n        </panel>\n    </row>\n\n    <row>\n        <panel>\n            <chart>\n                <title>Errors by Input Names Over Time</title>\n                <search base=\"baseErrorSearch\">\n                    <query>\n                        <![CDATA[\n                            | rename error_count as count\n                            | timechart sum(count) by datainput\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.overflowMode\">ellipsisNone</option>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.rotation\">0</option>\n                <option name=\"charting.axisTitleX.visibility\">collapsed</option>\n                <option name=\"charting.axisTitleY.text\">Errors (count)</option>\n                <option name=\"charting.axisTitleY.visibility\">visible</option>\n                <option name=\"charting.axisTitleY2.visibility\">visible</option>\n                <option name=\"charting.axisX.scale\">linear</option>\n                <option name=\"charting.axisY.scale\">linear</option>\n                <option name=\"charting.axisY2.enabled\">0</option>\n                <option name=\"charting.axisY2.scale\">inherit</option>\n                <option name=\"charting.chart\">column</option>\n                <option name=\"charting.chart.nullValueMode\">connect</option>\n                <option name=\"charting.chart.showDataLabels\">none</option>\n                <option name=\"charting.chart.sliceCollapsingThreshold\">0.01</option>\n                <option name=\"charting.chart.stackMode\">stacked</option>\n                <option name=\"charting.chart.style\">shiny</option>\n                <option name=\"charting.drilldown\">all</option>\n                <option name=\"charting.layout.splitSeries\">0</option>\n                <option name=\"charting.layout.splitSeries.allowIndependentYRanges\">0</option>\n                <option name=\"charting.legend.labelStyle.overflowMode\">ellipsisMiddle</option>\n                <option name=\"charting.legend.placement\">right</option>\n            </chart>\n        </panel>\n    </row>\n\n    <row>\n        <panel>\n            <chart>\n                <title>Errors by Categories Over Time</title>\n                <search base=\"baseErrorSearch\">\n                    <query>\n                        <![CDATA[\n                            | rename error_count as count\n                            | timechart sum(count) by ErrorType\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.overflowMode\">ellipsisNone</option>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.rotation\">0</option>\n                <option name=\"charting.axisTitleX.visibility\">collapsed</option>\n                <option name=\"charting.axisTitleY.text\">Errors (count)</option>\n                <option name=\"charting.axisTitleY.visibility\">visible</option>\n                <option name=\"charting.axisTitleY2.visibility\">visible</option>\n                <option name=\"charting.axisX.scale\">linear</option>\n                <option name=\"charting.axisY.scale\">linear</option>\n                <option name=\"charting.axisY2.enabled\">0</option>\n                <option name=\"charting.axisY2.scale\">inherit</option>\n                <option name=\"charting.chart\">column</option>\n                <option name=\"charting.chart.nullValueMode\">connect</option>\n                <option name=\"charting.chart.showDataLabels\">none</option>\n                <option name=\"charting.chart.sliceCollapsingThreshold\">0.01</option>\n                <option name=\"charting.chart.stackMode\">stacked</option>\n                <option name=\"charting.chart.style\">shiny</option>\n                <option name=\"charting.drilldown\">all</option>\n                <option name=\"charting.layout.splitSeries\">0</option>\n                <option name=\"charting.layout.splitSeries.allowIndependentYRanges\">0</option>\n                <option name=\"charting.legend.labelStyle.overflowMode\">ellipsisMiddle</option>\n                <option name=\"charting.legend.placement\">right</option>\n            </chart>\n        </panel>\n    </row>\n\n</form>\n<!--\n// jscpd:ignore-end\n-->",
"eai:type": "views",
"name": "health_overview",
"owner": "nobody",
"sharing": "global"
},
{
"eai:data": "<?xml version=\"1.0\"?>\n<view template=\"Splunk_TA_aws:templates/base.html\" type=\"html\" isDashboard=\"False\">\n    <label>Inputs</label>\n</view>",
"eai:type": "views",
"name": "inputs",
"owner": "nobody",
"sharing": "global"
},
{
"eai:data": "<!--\n// jscpd:ignore-start\n-->\n<form version=\"1.1\" script=\"MultiSelectHelper.js\">\n    <label>KV Store Utilization</label>\n    <fieldset submitButton=\"false\">\n\n        <input type=\"multiselect\" token=\"host\" searchWhenChanged=\"true\">\n            <label>Host</label>\n            <choice value=\"*\">All</choice>\n            <search fieldForValue=\"host\" fieldForLabel=\"host\">\n                <query><![CDATA[ index=_internal sourcetype=aws:*:log | stats count by host|table host ]]></query>\n            </search>\n            <prefix> (</prefix>\n            <suffix>) </suffix>\n            <valuePrefix>host=\"</valuePrefix>\n            <valueSuffix>\"</valueSuffix>\n            <delimiter> OR </delimiter>\n            <default>All</default>\n            <fieldForLabel>host</fieldForLabel>\n            <fieldForValue>host</fieldForValue>\n        </input>\n\n        <input type=\"time\" searchWhenChanged=\"true\">\n            <label>Time Range</label>\n            <default>\n                <earliest>-1d</earliest>\n                <latest>now</latest>\n            </default>\n        </input>\n    </fieldset>\n\n    <row>\n        <panel>\n            <table>\n                <title>AWS TA - KV Store Calls by Collection</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            index=_internal $host$ source=*splunkd_access* \"Splunk_TA_aws/storage/collections\"\n                            | rex field=uri \"servicesNS/.*/Splunk_TA_aws/storage/collections/\\w+/(?<collection_name>[^/?]*)\"\n                            | eval collection_name = if(collection_name == \"\", \"Get/Create Collection\", collection_name)\n                            | chart count by collection_name, method\n                            | rename collection_name as \"Collection Name\"\n                            | addtotals\n                            | sort -Total\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <drilldown>\n                    <condition field=\"Collection Name\">\n                        <set token=\"collection_name\">$click.value2$</set>\n                    </condition>\n                </drilldown>\n            </table>\n        </panel>\n    </row>\n\n    <row>\n        <panel depends=\"$collection_name$\">\n            <chart>\n                <title>KV Store Collection - $collection_name$ : Average time taken by KV Store calls</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            index=_internal $host$ source=*splunkd_access* \"Splunk_TA_aws/storage/collections\"\n                            | rex field=uri \"servicesNS/.*/Splunk_TA_aws/storage/collections/\\w+/(?<collection_name>[^/?]*)\"\n                            | eval collection_name = if(collection_name == \"\", \"Get/Create Collection\", collection_name)\n                            | where collection_name = \"$collection_name$\"\n                            | timechart avg(spent) by method\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"charting.chart\">line</option>\n                <option name=\"charting.axisTitleY.text\">Avg time (milliseconds)</option>\n            </chart>\n        </panel>\n    </row>\n\n    <row>\n        <panel>\n            <table>\n                <title>Other TA - KV Store Calls by Collection</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            index=_internal $host$ source=*splunkd_access* \"storage/collections\" NOT Splunk_TA_aws\n                            | rex field=uri \"servicesNS/.*/(?<app_name>.*)/storage/collections/\\w+/(?<collection_name>[^/?]*)\"\n                            | eval collection_name = if(collection_name == \"\", \"Get/Create Collection\", collection_name)\n                            | eval app_collection_name = app_name.\" - \".collection_name\n                            | chart count by app_collection_name, method\n                            | rename app_collection_name as \"App/TA - Collection Name\"\n                            | addtotals\n                            | sort -Total\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n            </table>\n        </panel>\n    </row>\n\n</form>\n\n<!--\n// jscpd:ignore-end\n-->",
"eai:type": "views",
"name": "kvstore_utilization",
"owner": "nobody",
"sharing": "global"
},
{
"eai:data": "<!--\n// jscpd:ignore-start\n-->\n<form version=\"1.1\" script=\"MultiSelectHelper.js\">\n    <label>Resource Utilization</label>\n    <fieldset submitButton=\"false\">\n\n        <input type=\"multiselect\" token=\"host\" searchWhenChanged=\"true\">\n            <label>Host</label>\n            <choice value=\"*\">All</choice>\n            <search fieldForValue=\"host\" fieldForLabel=\"host\">\n                <query>\n                <![CDATA[ index=_internal sourcetype=aws:*:log | stats count by host|table host ]]>\n                </query>\n            </search>\n            <prefix> (</prefix>\n            <suffix>) </suffix>\n            <valuePrefix>host=\"</valuePrefix>\n            <valueSuffix>\"</valueSuffix>\n            <delimiter> OR </delimiter>\n            <default>All</default>\n            <fieldForLabel>host</fieldForLabel>\n            <fieldForValue>host</fieldForValue>\n        </input>\n\n        <input type=\"time\" searchWhenChanged=\"true\">\n            <label>Time Range</label>\n            <default>\n                <earliest>-1d</earliest>\n                <latest>now</latest>\n            </default>\n        </input>\n\n        <input type=\"multiselect\" token=\"resource_util_modinput_single_instance\" searchWhenChanged=\"true\">\n            <label>Input Type - Single Instance</label>\n            <choice value=\"data.args=*aws_metadata.py OR data.args=*aws_kinesis.py OR data.args=*aws_cloudwatch_logs.py OR data.args=*aws_cloudwatch.py\">All</choice>\n            <choice value=\"data.args=*aws_metadata.py\">Metadata</choice>\n            <choice value=\"data.args=*aws_kinesis.py\">Kinesis</choice>\n            <choice value=\"data.args=*aws_cloudwatch_logs.py\">Cloudwatch Logs</choice>\n            <choice value=\"data.args=*aws_cloudwatch.py\">Cloudwatch</choice>\n            <prefix> (</prefix>\n            <suffix>) </suffix>\n            <delimiter> OR </delimiter>\n            <default>All</default>\n        </input>\n\n        <input type=\"dropdown\" token=\"resource_util_modinput_multi_instance\" searchWhenChanged=\"true\">\n            <label>Input Type - Multi Instance</label>\n            <choice value=\"data.args=*aws_sqs_based_s3.py\">SQS-Based S3</choice>\n            <choice value=\"data.args=*aws_s3.py\">Generic S3</choice>\n            <choice value=\"data.args=*splunk_ta_aws_logs.py\">Incremental S3</choice>\n            <default>SQS-Based S3</default>\n            <change>\n                <condition value=\"data.args=*aws_sqs_based_s3.py\">\n                    <set token=\"modinput_multi_instance\">sourcetype=aws:sqsbaseds3:log</set>\n                </condition>\n                <condition value=\"data.args=*aws_s3.py\">\n                    <set token=\"modinput_multi_instance\">sourcetype=aws:s3:log</set>\n                </condition>\n                <condition value=\"data.args=*splunk_ta_aws_logs.py\">\n                    <set token=\"modinput_multi_instance\">sourcetype=aws:logs:log</set>\n                </condition>\n            </change>\n        </input>\n\n    </fieldset>\n\n    <row>\n        <panel>\n            <chart>\n                <title>Memory Utilization - Single Instance Inputs</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            index=_introspection $host$ source=*resource_usage* component=\"PerProcess\" $resource_util_modinput_single_instance$\n                            | rename data.args as data_args\n                            | eval input_type = mvindex(split(data_args, \"/\"), -1)\n                            | timechart max(data.pct_memory) as \"pct_memory\" by input_type\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"charting.chart\">line</option>\n            </chart>\n        </panel>\n        <panel>\n            <chart>\n                <title>CPU Utilization - Single Instance Inputs</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            index=_introspection $host$ source=*resource_usage* component=\"PerProcess\" $resource_util_modinput_single_instance$\n                            | rename data.args as data_args\n                            | eval input_type = mvindex(split(data_args, \"/\"), -1)\n                            | timechart max(data.normalized_pct_cpu) as \"pct_cpu\" by input_type\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"charting.chart\">line</option>\n            </chart>\n        </panel>\n    </row>\n    <row>\n        <panel>\n            <table>\n                <title>Single Instance Inputs Count</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            | rest /servicesNS/nobody/Splunk_TA_aws/configs/conf-aws_metadata_tasks splunk_server=*\n                            | eval disabled = if(isnotnull(disabled), disabled, 0)\n                            | stats count as NumberOfInputs by disabled, splunk_server\n                            | eval InputType = \"Metadata\", Status = if(disabled == 0, \"Active\", \"Inactive\")\n                            | rename splunk_server as \"SplunkServer(Host)\"\n                            | table \"SplunkServer(Host)\", InputType, Status, NumberOfInputs\n                            | append [\n                            | rest /servicesNS/nobody/Splunk_TA_aws/configs/conf-aws_kinesis_tasks splunk_server=*\n                            | eval disabled = if(isnotnull(disabled), disabled, 0)\n                            | stats count as NumberOfInputs by disabled, splunk_server\n                            | eval InputType = \"Kinesis\", Status = if(disabled == 0, \"Active\", \"Inactive\")\n                            | rename splunk_server as \"SplunkServer(Host)\"\n                            | table \"SplunkServer(Host)\", InputType, Status, NumberOfInputs\n                            ]\n                            | append [\n                            | rest /servicesNS/nobody/Splunk_TA_aws/configs/conf-aws_cloudwatch_logs_tasks splunk_server=*\n                            | eval disabled = if(isnotnull(disabled), disabled, 0)\n                            | stats count as NumberOfInputs by disabled, splunk_server\n                            | eval InputType = \"Cloudwatch Logs\", Status = if(disabled == 0, \"Active\", \"Inactive\")\n                            | rename splunk_server as \"SplunkServer(Host)\"\n                            | table \"SplunkServer(Host)\", InputType, Status, NumberOfInputs\n                            ]\n                            | append [\n                            | rest /servicesNS/nobody/Splunk_TA_aws/data/inputs/aws_cloudwatch splunk_server=*\n                            | eval InputType = \"Cloudwatch - \".mvjoin(mvindex(split(title, \"_\"), 0, -2), \"_\"), disabled = if(isnotnull(disabled), disabled, 0)\n                            | stats count as NumberOfStanzas by InputType, disabled, splunk_server\n                            | eval Status = if(disabled == 0, \"Active\", \"Inactive\")\n                            | rename splunk_server as \"SplunkServer(Host)\"\n                            | table \"SplunkServer(Host)\", InputType, Status, NumberOfStanzas\n                            ]\n                            | eval NumberOfStanzas = coalesce(NumberOfStanzas, NumberOfInputs)\n                            | fillnull value=\"-\" NumberOfInputs\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"count\">5</option>\n            </table>\n        </panel>\n    </row>\n\n    <row>\n        <panel>\n            <chart>\n                <title>Memory Utilization - Multi Instance Inputs</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            index=_introspection $host$ source=*resource_usage* component=\"PerProcess\" $resource_util_modinput_multi_instance$\n                            | eval pid='data.pid'\n                            | join pid [search index=_internal $modinput_multi_instance$ | where isnotnull(datainput)]\n                            | table _time, pid, datainput, data.pct_memory, data.normalized_pct_cpu\n                            | timechart max(data.pct_memory) as \"pct_memory\" by datainput\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"charting.chart\">line</option>\n            </chart>\n        </panel>\n        <panel>\n            <chart>\n                <title>CPU Utilization - Multi Instance Inputs</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            index=_introspection $host$ source=*resource_usage* component=\"PerProcess\" $resource_util_modinput_multi_instance$\n                            | eval pid='data.pid'\n                            | join pid [search index=_internal $modinput_multi_instance$ | where isnotnull(datainput)]\n                            | table _time, pid, datainput, data.pct_memory, data.normalized_pct_cpu\n                            | timechart max(data.normalized_pct_cpu) as \"pct_cpu\" by datainput\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"charting.chart\">line</option>\n            </chart>\n        </panel>\n    </row>\n\n    <row>\n        <panel>\n            <table>\n                <title>Multi Instance Inputs Count</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            | rest /servicesNS/nobody/Splunk_TA_aws/data/inputs/aws_sqs_based_s3 splunk_server=*\n                            | eval disabled = if(isnotnull(disabled), disabled, 0)\n                            | stats count by disabled, splunk_server\n                            | eval InputType = \"SQS-Based S3\", Status = if(disabled == 0, \"Active\", \"Inactive\")\n                            | rename count as NumberOfInputs, splunk_server as \"SplunkServer(Host)\"\n                            | table \"SplunkServer(Host)\", InputType, Status, NumberOfInputs\n                            | append [\n                            | rest /servicesNS/nobody/Splunk_TA_aws/data/inputs/aws_s3 splunk_server=*\n                            | eval disabled = if(isnotnull(disabled), disabled, 0)\n                            | stats count by disabled, splunk_server\n                            | eval InputType = \"Generic S3\", Status = if(disabled == 0, \"Active\", \"Inactive\")\n                            | rename count as NumberOfInputs, splunk_server as \"SplunkServer(Host)\"\n                            | table \"SplunkServer(Host)\", InputType, Status, NumberOfInputs\n                            ]\n                            | append [\n                            | rest /servicesNS/nobody/Splunk_TA_aws/data/inputs/splunk_ta_aws_logs splunk_server=*\n                            | eval disabled = if(isnotnull(disabled), disabled, 0)\n                            | stats count by disabled, splunk_server\n                            | eval InputType = \"Incremental S3\", Status = if(disabled == 0, \"Active\", \"Inactive\")\n                            | rename count as NumberOfInputs, splunk_server as \"SplunkServer(Host)\"\n                            | table \"SplunkServer(Host)\", InputType, Status, NumberOfInputs\n                            ]\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"count\">5</option>\n            </table>\n        </panel>\n    </row>\n\n    <!-- KV Store information panels -->\n    <row>\n        <panel>\n            <chart>\n                <title>Splunk KV Store Calls Count</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            index=_internal $host$ source=*splunkd_access* \"storage/collections\"\n                            | rex field=uri \"servicesNS/.*/(?<app_name>.*)/storage/collections\"\n                            | eval classifier = if(app_name == \"Splunk_TA_aws\", app_name, \"Other\")\n                            | timechart count by classifier\n                            | addtotals\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <drilldown>\n                    <link target=\"_blank\">\n                        kvstore_utilization?latest=$latest$&amp;earliest=$earliest$&amp;form.host=$form.host$\n                    </link>\n                </drilldown>\n                <option name=\"charting.chart\">line</option>\n            </chart>\n        </panel>\n    </row>\n\n</form>\n\n<!--\n// jscpd:ignore-end\n-->",
"eai:type": "views",
"name": "resource_utilization",
"owner": "nobody",
"sharing": "global"
},
{
"eai:data": "<!--\n// jscpd:ignore-start\n-->\n<form version=\"1.1\" script=\"MultiSelectHelper.js\">\n    <label>S3 Inputs Health Details</label>\n    <fieldset submitButton=\"false\">\n        <input type=\"time\" searchWhenChanged=\"true\">\n            <label>Time Range</label>\n            <default>\n                <earliest>-1d</earliest>\n                <latest>now</latest>\n            </default>\n        </input>\n\n        <input type=\"multiselect\" token=\"host\" searchWhenChanged=\"true\">\n            <label>Host</label>\n            <choice value=\"*\">All</choice>\n            <search fieldForValue=\"host\" fieldForLabel=\"host\">\n                <query>\n                <![CDATA[ index=_internal sourcetype=aws:*:log | stats count by host|table host ]]>\n                </query>\n            </search>\n            <prefix> (</prefix>\n            <suffix>) </suffix>\n            <valuePrefix>host=\"</valuePrefix>\n            <valueSuffix>\"</valueSuffix>\n            <delimiter> OR </delimiter>\n            <default>All</default>\n            <fieldForLabel>host</fieldForLabel>\n            <fieldForValue>host</fieldForValue>\n        </input>\n\n        <input type=\"multiselect\" token=\"datainput\" searchWhenChanged=\"true\" dependsOn=\"modinput\">\n            <label>Input Name</label>\n            <choice value=\"*\">All</choice>\n            <search fieldForValue=\"datainput\" fieldForLabel=\"datainput_prefix\">\n              <query>\n                <![CDATA[\n                      index=_internal (sourcetype=aws:s3:log OR sourcetype=aws:logs:log OR sourcetype=aws:sqsbaseds3:log)\n                      | stats count by datainput\n                      | table datainput\n                      | rex field=datainput \"((?P<datainput_prefix>.*?)_[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$)\"\n                      | fillnull value=\"\" datainput_prefix\n                      | eval datainput=if(datainput_prefix!=\"\", datainput_prefix+\"_*\", datainput)\n                      | dedup datainput\n                      | table datainput, datainput_prefix\n                      | sort datainput\n                      ]]>\n              </query>\n            </search>\n            <prefix> (</prefix>\n            <suffix>) </suffix>\n            <valuePrefix>datainput=\"</valuePrefix>\n            <valueSuffix>\"</valueSuffix>\n            <delimiter> OR </delimiter>\n            <default>All</default>\n            <fieldForLabel>datainput_prefix</fieldForLabel>\n            <fieldForValue>datainput</fieldForValue>\n         </input>\n\n        <input type=\"text\" token=\"key_word\" searchWhenChanged=\"true\">\n            <label>Keyword</label>\n            <prefix> \"</prefix>\n            <suffix>\"</suffix>\n            <default></default>\n        </input>\n\n    </fieldset>\n\n    <row>\n        <panel>\n            <chart>\n                <title>SQS-Based S3 Time Lapse between Log Creation and Indexing</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            index=_internal $datainput$ $host$ $key_word$\n                            sourcetype=\"aws:sqsbaseds3:log\" (message=\"Sent data for indexing.\")\n                            | eval delay=_time-strptime(last_modified, \"%Y-%m-%dT%H:%M:%S%Z\")\n                            | eval delay = if (delay<0,0,delay)\n                            | timechart eval(round(mean(delay),3)) by datainput\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.overflowMode\">ellipsisNone</option>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.rotation\">0</option>\n                <option name=\"charting.axisTitleX.visibility\">collapsed</option>\n                <option name=\"charting.axisTitleY.text\">Delay (s)</option>\n                <option name=\"charting.axisTitleY.visibility\">visible</option>\n                <option name=\"charting.axisTitleY2.visibility\">visible</option>\n                <option name=\"charting.axisX.scale\">linear</option>\n                <option name=\"charting.axisY.scale\">linear</option>\n                <option name=\"charting.axisY2.enabled\">0</option>\n                <option name=\"charting.axisY2.scale\">inherit</option>\n                <option name=\"charting.chart\">line</option>\n                <option name=\"charting.chart.bubbleMaximumSize\">50</option>\n                <option name=\"charting.chart.bubbleMinimumSize\">10</option>\n                <option name=\"charting.chart.bubbleSizeBy\">area</option>\n                <option name=\"charting.chart.nullValueMode\">connect</option>\n                <option name=\"charting.chart.showDataLabels\">none</option>\n                <option name=\"charting.chart.sliceCollapsingThreshold\">0.01</option>\n                <option name=\"charting.chart.stackMode\">default</option>\n                <option name=\"charting.chart.style\">shiny</option>\n                <option name=\"charting.drilldown\">all</option>\n                <option name=\"charting.layout.splitSeries\">0</option>\n                <option name=\"charting.layout.splitSeries.allowIndependentYRanges\">0</option>\n                <option name=\"charting.legend.labelStyle.overflowMode\">ellipsisMiddle</option>\n                <option name=\"charting.legend.placement\">right</option>\n            </chart>\n\n        </panel>\n        <panel>\n            <chart>\n                <title>SQS-Based S3 Throughput(MBs) by Input Names Over Time</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                        index=_internal $datainput$ $host$ $key_word$\n                        sourcetype=\"aws:sqsbaseds3:log\" (message=\"Sent data for indexing.\")\n                        | eval size = size / 1024 / 1024\n                        | stats count by _time, host, sourcetype, datainput, size\n                        | eval size=size*count\n                        | eval size=round(size,2)\n                        | timechart sum(size) by datainput\n                        | fillnull value=0\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.overflowMode\">ellipsisNone</option>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.rotation\">0</option>\n                <option name=\"charting.axisTitleX.visibility\">collapsed</option>\n                <option name=\"charting.axisTitleY.text\">Throughput (MB)</option>\n                <option name=\"charting.axisTitleY.visibility\">visible</option>\n                <option name=\"charting.axisTitleY2.visibility\">visible</option>\n                <option name=\"charting.axisX.scale\">linear</option>\n                <option name=\"charting.axisY.scale\">linear</option>\n                <option name=\"charting.axisY2.enabled\">0</option>\n                <option name=\"charting.axisY2.scale\">inherit</option>\n                <option name=\"charting.chart\">area</option>\n                <option name=\"charting.chart.nullValueMode\">connect</option>\n                <option name=\"charting.chart.showDataLabels\">none</option>\n                <option name=\"charting.chart.sliceCollapsingThreshold\">0.01</option>\n                <option name=\"charting.chart.stackMode\">stacked</option>\n                <option name=\"charting.chart.style\">shiny</option>\n                <option name=\"charting.drilldown\">all</option>\n                <option name=\"charting.layout.splitSeries\">0</option>\n                <option name=\"charting.layout.splitSeries.allowIndependentYRanges\">0</option>\n                <option name=\"charting.legend.labelStyle.overflowMode\">ellipsisMiddle</option>\n                <option name=\"charting.legend.placement\">right</option>\n            </chart>\n        </panel>\n    </row>\n\n    <row>\n        <panel>\n            <chart>\n                <title>Incremental S3 Time Lapse between Log Creation and Indexing</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            index=_internal $datainput$ $host$ $key_word$\n                            sourcetype=\"aws:logs:log\" (message=\"Sent data for indexing.\")\n                            | eval delay=_time-strptime(last_modified, \"%Y-%m-%dT%H:%M:%S%Z\")\n                            | eval delay = if (delay<0,0,delay)\n                            | timechart eval(round(mean(delay),3)) by datainput\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.overflowMode\">ellipsisNone</option>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.rotation\">0</option>\n                <option name=\"charting.axisTitleX.visibility\">collapsed</option>\n                <option name=\"charting.axisTitleY.text\">Delay (s)</option>\n                <option name=\"charting.axisTitleY.visibility\">visible</option>\n                <option name=\"charting.axisTitleY2.visibility\">visible</option>\n                <option name=\"charting.axisX.scale\">linear</option>\n                <option name=\"charting.axisY.scale\">linear</option>\n                <option name=\"charting.axisY2.enabled\">0</option>\n                <option name=\"charting.axisY2.scale\">inherit</option>\n                <option name=\"charting.chart\">line</option>\n                <option name=\"charting.chart.bubbleMaximumSize\">50</option>\n                <option name=\"charting.chart.bubbleMinimumSize\">10</option>\n                <option name=\"charting.chart.bubbleSizeBy\">area</option>\n                <option name=\"charting.chart.nullValueMode\">connect</option>\n                <option name=\"charting.chart.showDataLabels\">none</option>\n                <option name=\"charting.chart.sliceCollapsingThreshold\">0.01</option>\n                <option name=\"charting.chart.stackMode\">default</option>\n                <option name=\"charting.chart.style\">shiny</option>\n                <option name=\"charting.drilldown\">all</option>\n                <option name=\"charting.layout.splitSeries\">0</option>\n                <option name=\"charting.layout.splitSeries.allowIndependentYRanges\">0</option>\n                <option name=\"charting.legend.labelStyle.overflowMode\">ellipsisMiddle</option>\n                <option name=\"charting.legend.placement\">right</option>\n            </chart>\n\n        </panel>\n        <panel>\n            <chart>\n                <title>Incremental S3 Throughput(MBs) by Input Names Over Time</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                        index=_internal $datainput$ $host$ $key_word$\n                        sourcetype=\"aws:logs:log\" (message=\"Sent data for indexing.\")\n                        | eval size = size / 1024 / 1024\n                        | stats count by _time, host, sourcetype, datainput, size\n                        | eval size=size*count\n                        | eval size=round(size,2)\n                        | timechart sum(size) by datainput\n                        | fillnull value=0\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.overflowMode\">ellipsisNone</option>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.rotation\">0</option>\n                <option name=\"charting.axisTitleX.visibility\">collapsed</option>\n                <option name=\"charting.axisTitleY.text\">Throughput (MB)</option>\n                <option name=\"charting.axisTitleY.visibility\">visible</option>\n                <option name=\"charting.axisTitleY2.visibility\">visible</option>\n                <option name=\"charting.axisX.scale\">linear</option>\n                <option name=\"charting.axisY.scale\">linear</option>\n                <option name=\"charting.axisY2.enabled\">0</option>\n                <option name=\"charting.axisY2.scale\">inherit</option>\n                <option name=\"charting.chart\">area</option>\n                <option name=\"charting.chart.nullValueMode\">connect</option>\n                <option name=\"charting.chart.showDataLabels\">none</option>\n                <option name=\"charting.chart.sliceCollapsingThreshold\">0.01</option>\n                <option name=\"charting.chart.stackMode\">stacked</option>\n                <option name=\"charting.chart.style\">shiny</option>\n                <option name=\"charting.drilldown\">all</option>\n                <option name=\"charting.layout.splitSeries\">0</option>\n                <option name=\"charting.layout.splitSeries.allowIndependentYRanges\">0</option>\n                <option name=\"charting.legend.labelStyle.overflowMode\">ellipsisMiddle</option>\n                <option name=\"charting.legend.placement\">right</option>\n            </chart>\n        </panel>\n    </row>\n\n    <row>\n        <panel>\n            <chart>\n                <title>Generic S3 Time Lapse between Log Creation and Indexing</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            index=_internal $datainput$ $host$ $key_word$\n                            sourcetype=\"aws:s3:log\" action=index\n                            | eval delay=_time-strptime(last_modified, \"%Y-%m-%dT%H:%M:%S.000%Z\")\n                            | eval delay = if (delay<0,0,delay)\n                            | timechart eval(round(mean(delay),3)) by datainput\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.overflowMode\">ellipsisNone</option>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.rotation\">0</option>\n                <option name=\"charting.axisTitleX.visibility\">collapsed</option>\n                <option name=\"charting.axisTitleY.text\">Delay (s)</option>\n                <option name=\"charting.axisTitleY.visibility\">visible</option>\n                <option name=\"charting.axisTitleY2.visibility\">visible</option>\n                <option name=\"charting.axisX.scale\">linear</option>\n                <option name=\"charting.axisY.scale\">linear</option>\n                <option name=\"charting.axisY2.enabled\">0</option>\n                <option name=\"charting.axisY2.scale\">inherit</option>\n                <option name=\"charting.chart\">line</option>\n                <option name=\"charting.chart.bubbleMaximumSize\">50</option>\n                <option name=\"charting.chart.bubbleMinimumSize\">10</option>\n                <option name=\"charting.chart.bubbleSizeBy\">area</option>\n                <option name=\"charting.chart.nullValueMode\">connect</option>\n                <option name=\"charting.chart.showDataLabels\">none</option>\n                <option name=\"charting.chart.sliceCollapsingThreshold\">0.01</option>\n                <option name=\"charting.chart.stackMode\">default</option>\n                <option name=\"charting.chart.style\">shiny</option>\n                <option name=\"charting.drilldown\">all</option>\n                <option name=\"charting.layout.splitSeries\">0</option>\n                <option name=\"charting.layout.splitSeries.allowIndependentYRanges\">0</option>\n                <option name=\"charting.legend.labelStyle.overflowMode\">ellipsisMiddle</option>\n                <option name=\"charting.legend.placement\">right</option>\n            </chart>\n\n        </panel>\n        <panel>\n            <chart>\n                <title>Generic S3 Throughput(MBs) by Input Names Over Time</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                        index=_internal $datainput$ $host$ $key_word$\n                        sourcetype=\"aws:s3:log\" (action=index)\n                        | eval size = size / 1024 / 1024\n                        | stats count by _time, host, sourcetype, datainput, size\n                        | eval size=size*count\n                        | eval size=round(size,2)\n                        | timechart sum(size) by datainput\n                        | fillnull value=0\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.overflowMode\">ellipsisNone</option>\n                <option name=\"charting.axisLabelsX.majorLabelStyle.rotation\">0</option>\n                <option name=\"charting.axisTitleX.visibility\">collapsed</option>\n                <option name=\"charting.axisTitleY.text\">Throughput (MB)</option>\n                <option name=\"charting.axisTitleY.visibility\">visible</option>\n                <option name=\"charting.axisTitleY2.visibility\">visible</option>\n                <option name=\"charting.axisX.scale\">linear</option>\n                <option name=\"charting.axisY.scale\">linear</option>\n                <option name=\"charting.axisY2.enabled\">0</option>\n                <option name=\"charting.axisY2.scale\">inherit</option>\n                <option name=\"charting.chart\">area</option>\n                <option name=\"charting.chart.nullValueMode\">connect</option>\n                <option name=\"charting.chart.showDataLabels\">none</option>\n                <option name=\"charting.chart.sliceCollapsingThreshold\">0.01</option>\n                <option name=\"charting.chart.stackMode\">stacked</option>\n                <option name=\"charting.chart.style\">shiny</option>\n                <option name=\"charting.drilldown\">all</option>\n                <option name=\"charting.layout.splitSeries\">0</option>\n                <option name=\"charting.layout.splitSeries.allowIndependentYRanges\">0</option>\n                <option name=\"charting.legend.labelStyle.overflowMode\">ellipsisMiddle</option>\n                <option name=\"charting.legend.placement\">right</option>\n            </chart>\n        </panel>\n    </row>\n\n    <row>\n        <panel>\n            <table>\n                <title>SQS-Based S3 Error Message Details</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            index=_internal $datainput$ $host$ $key_word$\n                            sourcetype=\"aws:sqsbaseds3:log\" level = ERROR\n                            | fillnull value=\"\" ErrorCode, ErrorDetail\n                            | eval ErrorDetail = if((ErrorDetail == \"\" or ErrorDetail == \"''\") and !isnull(message), message, ErrorDetail)\n                            | lookup aws_health_error_type_lookup ErrorCode, ErrorDetail, sourcetype OUTPUT ErrorType\n                            | lookup aws_log_sourcetype_modinput_lookup sourcetype OUTPUT modinput\n                            | stats count as ErrorCount by host, sourcetype, modinput, datainput, ErrorType, ErrorCode, ErrorDetail\n                            | lookup aws_health_error_resolutions_lookup sourcetype, ErrorCode, ErrorDetail OUTPUT PossibleReason, PossibleResolution\n                            | eval ShortErrorDetail = substr(ErrorDetail,1,550)\n                            | table host, sourcetype, modinput, datainput, ErrorType, ErrorCode, ShortErrorDetail, ErrorCount, PossibleReason, PossibleResolution\n                            | sort host, modinput, datainput, ErrorCode, ErrorDetail\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"count\">5</option>\n            </table>\n        </panel>\n    </row>\n\n    <row>\n        <panel>\n            <table>\n                <title>Incremental S3 Error Message Details</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            index=_internal $datainput$ $host$ $key_word$\n                            sourcetype=\"aws:logs:log\" level = ERROR\n                            | fillnull value=\"\" ErrorCode, ErrorDetail\n                            | eval ErrorDetail = if((ErrorDetail == \"\" or ErrorDetail == \"''\") and !isnull(message), message, ErrorDetail)\n                            | lookup aws_health_error_type_lookup ErrorCode, ErrorDetail, sourcetype OUTPUT ErrorType\n                            | lookup aws_log_sourcetype_modinput_lookup sourcetype OUTPUT modinput\n                            | stats count as ErrorCount by host, sourcetype, modinput, datainput, ErrorType, ErrorCode, ErrorDetail\n                            | lookup aws_health_error_resolutions_lookup sourcetype, ErrorCode, ErrorDetail OUTPUT PossibleReason, PossibleResolution\n                            | eval ShortErrorDetail = substr(ErrorDetail,1,550)\n                            | table host, sourcetype, modinput, datainput, ErrorType, ErrorCode, ShortErrorDetail, ErrorCount, PossibleReason, PossibleResolution\n                            | sort host, modinput, datainput, ErrorCode, ErrorDetail\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"count\">5</option>\n            </table>\n        </panel>\n    </row>\n\n    <row>\n        <panel>\n            <table>\n                <title>Generic S3 Error Message Details</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            index=_internal $datainput$ $host$ $key_word$\n                            sourcetype=\"aws:s3:log\" level = ERROR\n                            | fillnull value=\"\" ErrorCode, ErrorDetail\n                            | eval ErrorDetail = if((ErrorDetail == \"\" or ErrorDetail == \"''\") and !isnull(message), message, ErrorDetail)\n                            | lookup aws_health_error_type_lookup ErrorCode, ErrorDetail, sourcetype OUTPUT ErrorType\n                            | lookup aws_log_sourcetype_modinput_lookup sourcetype OUTPUT modinput\n                            | stats count as ErrorCount by host, sourcetype, modinput, datainput, ErrorType, ErrorCode, ErrorDetail\n                            | lookup aws_health_error_resolutions_lookup sourcetype, ErrorCode, ErrorDetail OUTPUT PossibleReason, PossibleResolution\n                            | eval ShortErrorDetail = substr(ErrorDetail,1,550)\n                            | table host, sourcetype, modinput, datainput, ErrorType, ErrorCode, ShortErrorDetail, ErrorCount, PossibleReason, PossibleResolution\n                            | sort host, modinput, datainput, ErrorCode, ErrorDetail\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n                <option name=\"count\">5</option>\n            </table>\n        </panel>\n    </row>\n\n</form>\n<!--\n// jscpd:ignore-end\n-->",
"eai:type": "views",
"name": "s3_health_details",
"owner": "nobody",
"sharing": "global"
},
{
"eai:data": "<form version=\"1.1\" script=\"MultiSelectHelper.js\">\n    <label>Warning Details</label>\n    <fieldset submitButton=\"false\">\n        <input type=\"time\" searchWhenChanged=\"true\">\n            <label>Time Range</label>\n            <default>\n                <earliest>-1d</earliest>\n                <latest>now</latest>\n            </default>\n        </input>\n\n        <input type=\"multiselect\" token=\"host\" searchWhenChanged=\"true\">\n            <label>Host</label>\n            <choice value=\"*\">All</choice>\n            <search fieldForValue=\"host\" fieldForLabel=\"host\">\n                <query><![CDATA[ index=_internal sourcetype=aws:*:log | stats count by host|table host ]]></query>\n            </search>\n            <prefix> (</prefix>\n            <suffix>) </suffix>\n            <valuePrefix>host=\"</valuePrefix>\n            <valueSuffix>\"</valueSuffix>\n            <delimiter> OR </delimiter>\n            <default>All</default>\n            <fieldForLabel>host</fieldForLabel>\n            <fieldForValue>host</fieldForValue>\n        </input>\n\n        <input type=\"multiselect\" token=\"modinput\" searchWhenChanged=\"true\">\n            <label>Input Type</label>\n            <choice value=\"sourcetype=aws:s3:log OR sourcetype=aws:logs:log OR sourcetype=aws:sqsbaseds3:log OR sourcetype=aws:metadata*:log OR sourcetype=aws:cloudwatch:log OR sourcetype=aws:cloudwatchlogs:log OR sourcetype=aws:kinesis:log\">All</choice>\n            <choice value=\"sourcetype=aws:s3:log\">Generic S3</choice>\n            <choice value=\"sourcetype=aws:logs:log\">Incremental S3</choice>\n            <choice value=\"sourcetype=aws:sqsbaseds3:log\">SQS-Based S3</choice>\n            <choice value=\"sourcetype=aws:metadata*:log\">Metadata</choice>\n            <choice value=\"sourcetype=aws:cloudwatch:log\">Cloudwatch</choice>\n            <choice value=\"sourcetype=aws:cloudwatchlogs:log\">Cloudwatch Logs</choice>\n            <choice value=\"sourcetype=aws:kinesis:log\">Kinesis</choice>\n            <prefix> (</prefix>\n            <suffix>) </suffix>\n            <delimiter> OR </delimiter>\n            <default>All</default>\n        </input>\n\n        <input type=\"multiselect\" token=\"datainput\" searchWhenChanged=\"true\" dependsOn=\"modinput\">\n            <label>Input Name</label>\n            <choice value=\"*\">All</choice>\n            <search fieldForValue=\"datainput\" fieldForLabel=\"datainput_prefix\">\n                <query><![CDATA[\n                index=_internal $modinput$\n                | stats count by datainput\n                | table datainput\n                | rex field=datainput \"((?P<datainput_prefix>.*?)_[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$)\"\n                | fillnull value=\"\" datainput_prefix\n                | eval datainput=if(datainput_prefix!=\"\", datainput_prefix+\"_*\", datainput)\n                | dedup datainput\n                | table datainput, datainput_prefix\n                | sort datainput\n                ]]></query>\n            </search>\n            <prefix> (</prefix>\n            <suffix>) </suffix>\n            <valuePrefix>datainput=\"</valuePrefix>\n            <valueSuffix>\"</valueSuffix>\n            <delimiter> OR </delimiter>\n            <default>All</default>\n            <fieldForLabel>datainput_prefix</fieldForLabel>\n            <fieldForValue>datainput</fieldForValue>\n        </input>\n\n        <input depends=\"$hidden$\" token=\"key_word\" searchWhenChanged=\"true\">\n            <prefix></prefix>\n            <suffix></suffix>\n            <default></default>\n        </input>\n\n    </fieldset>\n\n    <row>\n        <panel>\n            <html>\n                <a href=\"https://aws.amazon.com/console/\" target=\"_blank\">Go to AWS console</a> |\n                <a href=\"https://docs.splunk.com/Documentation/AddOns/released/AWS/Troubleshooting\" target=\"_blank\">Go to Add-On troubleshooting section</a>\n            </html>\n            <table>\n                <title>Warning Message Details</title>\n                <search>\n                    <query>\n                        <![CDATA[\n                            index=_internal $modinput$ $datainput$ $host$ level=WARNING $key_word$\n                            | lookup aws_log_sourcetype_modinput_lookup sourcetype OUTPUT modinput\n                            | stats count as WarningCount by host, sourcetype, modinput, datainput, message\n                            | lookup aws_health_warning_resolutions_lookup sourcetype, message OUTPUT PossibleReason, PossibleResolution\n                            | table host, sourcetype, modinput, datainput, message, WarningCount, PossibleReason, PossibleResolution\n                            | sort host, modinput, datainput, message\n                        ]]>\n                    </query>\n                    <earliest>$earliest$</earliest>\n                    <latest>$latest$</latest>\n                </search>\n            </table>\n        </panel>\n    </row>\n\n</form>",
"eai:type": "views",
"name": "warning_details",
"owner": "nobody",
"sharing": "global"
}
]
